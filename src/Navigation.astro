---
import type { HTMLAttributes, HTMLTag } from 'astro/types'
import NavigationList from './NavigationList.astro'
import { type Collection, findNavigationEntries } from './utils.js'

export type Props<N extends HTMLTag = 'nav', L extends HTMLTag = 'ol', I extends HTMLTag = 'li'> = HTMLAttributes<N> & {
    as?: N
    collection?: Collection
    disableCurrent?: boolean
    showExcerpts?: boolean
    itemAttrs?: HTMLAttributes<I>
    listAttrs?: HTMLAttributes<L>
}

const {
    as: Component = 'nav',
    collection = 'pages',
    disableCurrent,
    showExcerpts,
    itemAttrs,
    listAttrs,
    ...attrs
} = Astro.props

const entries = await findNavigationEntries(collection)
---


<NavigationList as={Component} {entries} {disableCurrent} {showExcerpts} {itemAttrs} {listAttrs} {...attrs} />